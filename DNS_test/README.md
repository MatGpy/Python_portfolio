**DNStestFunctions.py and test_DNS.py - documentation.**

DNStestFunctions.py file is the collection of python functions which can be used to test DNS servers for accuracy of responses to given requests, time that's necessary for the server to process given requests or ability to handle many requests in a short period of time.

test_DNS.py file is the file where Google 8.8.4.4 and Google 4.4.4.4 DNS servers are tested using functions from DNStestFunctions.py file.

**Description of all variables from DNStestFunctions.py file**

| variable name | variable dexcription |
| ------------- | -------------------- |
| DNSaddress | String, stores the address of DNS server which is tested at given moment. |
| WebsiteDomain | String, stores the web domain of the website which IP we want to receive from DNS server (or IP address of the website which domain we want to receive from DNS server if used DNS record type is PTR). |
| DNSrecordType | String, stores the type of DNS record which is used at a given moment. |
| i | Integer, it's used to iterate through the whole DNS server response and pack all the relevant information from it into a tuple (depending on chosen DNS record type). |
| expectedResponse | String, stores the expected DNS server response in given circumstances, it's used to check reliability of DNS server responses when it has to handle many requests in a small amount of time. |
| amountOfRequests | Integer, stores the amount of requests that will be sent to DNS server in a short period of time. |
| amountOfCorrectResponses | Integer, stores the amount of responses to which DNS server responded correctly (DNS server response is equal to expected response), out of all the requests that were sent. |

**Description of all functions from DNStestFunctions.py file**

| function name | function description |
| ------------- | -------------------- |
| checkDNSresponse | This function takes address of DNS server, domain of the website and type of DNS record as input, sends the request to chosen DNS server with information about chosen website and DNS record type, takes the DNS response and returns all the relevant data from it (depending on a chosen DNS record type). |
| handler | This function is responsible for returning runtime error every time it takes DNS server longer than 1 second to process received request and send adequate response to the client. |
| checkForMultipleRequests | This function uses checkDNSresponse function to generate specified amount of requests to DNS server in a short period of time and checks how many of these requests were handled correctly (by comparing DNS server response to an expected response and counting amount of times when both were equal). |

**How to run test_DNS.py file with DNS servers tests?**

If user uses Linux device:

In order to run this file, user has to open terminal, change directory to the location where test_DNS.py and DNStestFunctions.py are saved on user's device and type 'sudo python3 -m unittest test_DNS.py' into the terminal. Then, after user entered their password, all the tests will run and then test results will be displayed. Disclaimer - before running test_DNS.py file, it's recommended to make sure user has scapy package installed on their device.

All tests' expected outcomes were verified using linux dig command and online tools (such as mxtoolbox.com website).

**Description of all methods from test_DNS.py file**

| method name | method description |
| ----------- | ------------------ |
| test_checkDNSresponse_website1_8844 | This method checks 8.8.4.4 DNS server response to various requests created using checkDNSresponse function, using x-kom.pl as a website domain (or this website's set of IPv4 addresses when PTR record type is used) and following DNS record types: A, AAAA, MX, CNAME, NS, SOA, CAA, PTR. It also checks checkDNSresponse function response when invalid DNS server address or invalid DNS record type were chosen. |
| test_checkDNSresponse_website2_8844 | This method checks 8.8.4.4 DNS server response to various requests created using checkDNSresponse function, using yahoo.com as a website domain (or this website's set of IPv4 addresses when PTR record type is used) and following DNS record types: A, AAAA, MX, CNAME, NS, SOA, CAA, PTR. It also checks checkDNSresponse function response when invalid DNS server address or invalid DNS record type were chosen. |
| test_checkDNSresponse_website3_8844 | This method checks 8.8.4.4 DNS server response to various requests created using checkDNSresponse function, using non-existent domain (www.ibetthiswebsitedoesntexist.pl) as a website domain (or empty set when PTR record type is used) and following DNS record types: A, AAAA, MX, CNAME, NS, SOA, CAA, PTR. It also checks checkDNSresponse function response when invalid DNS server address or invalid DNS record type were chosen. |
| test_checkDNSresponse_website4_8844 | This method checks 8.8.4.4 DNS server response to various requests created using checkDNSresponse function, using string with space as a website domain (or empty set when PTR record type is used) and following DNS record types: A, AAAA, MX, CNAME, NS, SOA, CAA, PTR. It also checks checkDNSresponse function response when invalid DNS server address or invalid DNS record type were chosen. |
| test_checkForMultipleRequests_website1_8844 | This method checks 8.8.4.4 DNS server response to specified amount of requests created in a short period of time using checkForMultipleRequests function, using x-kom.pl as a website domain (or this website's set of IPv4 addresses when PTR record type is used) and following DNS record types: A, AAAA, MX, CNAME, NS, SOA, CAA, PTR. It also checks checkDNSresponse function response when invalid DNS server address or invalid DNS record type were chosen. |
| test_checkForMultipleRequests_website2_8844 | This method checks 8.8.4.4 DNS server response to specified amount of requests created in a short period of time using checkForMultipleRequests function, using yahoo.com as a website domain (or this website's set of IPv4 addresses when PTR record type is used) and following DNS record types: A, AAAA, MX, CNAME, NS, SOA, CAA, PTR. It also checks checkDNSresponse function response when invalid DNS server address or invalid DNS record type were chosen. |
| test_checkForMultipleRequests_website3_8844 | This method checks 8.8.4.4 DNS server response to specified amount of requests created in a short period of time using checkForMultipleRequests function, using non-existent domain (www.ibetthiswebsitedoesntexist.pl) as a website domain (or empty set when PTR record type is used) and following DNS record types: A, AAAA, MX, CNAME, NS, SOA, CAA, PTR. It also checks checkDNSresponse function response when invalid DNS server address or invalid DNS record type were chosen. |
| test_checkForMultipleRequests_website4_8844 | This method checks 8.8.4.4 DNS server response to specified amount of requests created in a short period of time using checkForMultipleRequests function, using string with space as a website domain (or empty set when PTR record type is used) and following DNS record types: A, AAAA, MX, CNAME, NS, SOA, CAA, PTR. It also checks checkDNSresponse function response when invalid DNS server address or invalid DNS record type were chosen. |
| test_checkDNSresponse_website1_4444 | This method checks 4.4.4.4 DNS server response to various requests created using checkDNSresponse function, using x-kom.pl as a website domain (or this website's set of IPv4 addresses when PTR record type is used) and following DNS record types: A, AAAA, MX, CNAME, NS, SOA, CAA, PTR. It also checks checkDNSresponse function response when invalid DNS server address or invalid DNS record type were chosen. |
| test_checkDNSresponse_website2_4444 | This method checks 4.4.4.4 DNS server response to various requests created using checkDNSresponse function, using yahoo.com as a website domain (or this website's set of IPv4 addresses when PTR record type is used) and following DNS record types: A, AAAA, MX, CNAME, NS, SOA, CAA, PTR. It also checks checkDNSresponse function response when invalid DNS server address or invalid DNS record type were chosen. |
| test_checkDNSresponse_website3_4444 | This method checks 4.4.4.4 DNS server response to various requests created using checkDNSresponse function, using non-existent domain (www.ibetthiswebsitedoesntexist.pl) as a website domain (or empty set when PTR record type is used) and following DNS record types: A, AAAA, MX, CNAME, NS, SOA, CAA, PTR. It also checks checkDNSresponse function response when invalid DNS server address or invalid DNS record type were chosen. |
| test_checkDNSresponse_website4_4444 | This method checks 4.4.4.4 DNS server response to various requests created using checkDNSresponse function, using string with space as a website domain (or empty set when PTR record type is used) and following DNS record types: A, AAAA, MX, CNAME, NS, SOA, CAA, PTR. It also checks checkDNSresponse function response when invalid DNS server address or invalid DNS record type were chosen. |
| test_checkForMultipleRequests_website1_4444 | This method checks 4.4.4.4 DNS server response to specified amount of requests created in a short period of time using checkForMultipleRequests function, using x-kom.pl as a website domain (or this website's set of IPv4 addresses when PTR record type is used) and following DNS record types: A, AAAA, MX, CNAME, NS, SOA, CAA, PTR. It also checks checkDNSresponse function response when invalid DNS server address or invalid DNS record type were chosen. |
| test_checkForMultipleRequests_website2_4444 | This method checks 4.4.4.4 DNS server response to specified amount of requests created in a short period of time using checkForMultipleRequests function, using yahoo.com as a website domain (or this website's set of IPv4 addresses when PTR record type is used) and following DNS record types: A, AAAA, MX, CNAME, NS, SOA, CAA, PTR. It also checks checkDNSresponse function response when invalid DNS server address or invalid DNS record type were chosen. |
| test_checkForMultipleRequests_website3_4444 | This method checks 4.4.4.4 DNS server response to specified amount of requests created in a short period of time using checkForMultipleRequests function, using non-existent domain (www.ibetthiswebsitedoesntexist.pl) as a website domain (or empty set when PTR record type is used) and following DNS record types: A, AAAA, MX, CNAME, NS, SOA, CAA, PTR. It also checks checkDNSresponse function response when invalid DNS server address or invalid DNS record type were chosen. |
| test_checkForMultipleRequests_website4_4444 | This method checks 4.4.4.4 DNS server response to specified amount of requests created in a short period of time using checkForMultipleRequests function, using string with space as a website domain (or empty set when PTR record type is used) and following DNS record types: A, AAAA, MX, CNAME, NS, SOA, CAA, PTR. It also checks checkDNSresponse function response when invalid DNS server address or invalid DNS record type were chosen. |